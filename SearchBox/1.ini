[Rainmeter]
    Update=1000

[Variables]
    @includecfg=#@#Config.inc
    skinw=(#s# * 500)
    skinh=(#s# * 47)
    cmd=SmartGit

[MeasureRun]
    Measure=Plugin
    Plugin=RunCommand
    Program=python
    Parameter=""#CURRENTPATH#win_search.py" "#cmd#""
    State=Hide

[BG]
    Meter=Shape
    MeterStyle=BackgroundStyle

[SearchMeter]
    Meter=String
    MeterStyle=Appearance
    StringAlign=Center
    StringCase=None
    FontSize=(#s# * 15)
    Text="Type to search everywhere"
    X=(#skinw# / 2)
    Y=(#s# * 12)
    W=(#skinw# - (#s# * 20))
    H=(#skinh# - (#s# * 20))
    LeftMouseUpAction=[!CommandMeasure "SearchMeasure" "ExecuteBatch 1-3"]

[SearchMeasure]
    Measure=Plugin
    Plugin=InputText
    Command1=[!WriteKeyValue Variables cmd "$UserInput$"]
    Command2=[!Refresh #CURRENTCONFIG#]
    Command3=[!CommandMeasure MeasureRun "Run"]
    FocusDismiss=1
    StringAlign=Center
    FontFace=#fontf#
    FontSize=(#s# * 14)
    FontColor=EEEEEE
    SolidColor=#bgcolor#
    X=(#s# * 10)
    Y=(#s# * 10)
    W=(#skinw# - (#s# * 20))
    H=(#skinh# - (#s# * 20))
    AntiAlias=1
    UpdateDivider=-1
